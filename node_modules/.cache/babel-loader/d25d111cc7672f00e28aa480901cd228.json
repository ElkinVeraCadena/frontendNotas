{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elkin\\\\OneDrive\\\\Escritorio\\\\2. C\\xF3digo\\\\Codigo_v1.2\\\\frontend\\\\src\\\\components\\\\RegisterPeriodForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport Message from \"./MessageAlert\";\nimport \"../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst RegisterPeriodForm = props => {\n  _s();\n\n  const {\n    handleSubmit\n  } = props;\n  const [messageBox, setMessage] = useState({\n    type: \"\",\n    message: \"\",\n    isHidden: true\n  });\n  const [period, setPeriod] = useState({\n    name: \"\",\n    startDate: new Date(),\n    endDate: new Date(),\n    actual: true\n  });\n  useEffect(() => {\n    var todayDate = new Date();\n    var month = todayDate.getMonth() + 1;\n    var day = todayDate.getDate();\n    var year = todayDate.getFullYear();\n    if (day < 10) day = \"0\" + day;\n    if (month < 10) month = \"0\" + month;\n    setPeriod({ ...period,\n      startDate: year + \"-\" + month + \"-\" + day,\n      endDate: year + \"-\" + month + \"-\" + day\n    });\n  }, []);\n  const [validation, setValidation] = useState({\n    nameOk: false,\n    startDateOk: false,\n    endDateOk: true\n  });\n\n  const handleSubmitInternal = e => {\n    e.preventDefault();\n\n    if (validation.nameOk && validation.startDateOk && validation.endDateOk) {\n      handleSubmit(period, setPeriod, messageBox, setMessage);\n    } else {\n      setMessage({\n        type: \"error\",\n        message: \"Ingresa correctamente los campos\",\n        isHidden: false\n      });\n    }\n  };\n\n  const nameValidation = () => {\n    const periodName = period.name;\n    const iName = document.getElementById(\"iName\");\n    const name = document.getElementById(\"name\");\n    var auxIterator = 0;\n\n    if (periodName === \"\") {\n      iName.textContent = \"Ingrese el nombre del año lectivo.\";\n      auxIterator++;\n      setValidation({ ...validation,\n        nameOk: false\n      });\n    }\n\n    if (auxIterator !== 1 && periodName.length < 4) {\n      iName.textContent = \"*El nombre del año lectivo debe tener al menos 5 digitos\";\n      auxIterator++;\n      setValidation({ ...validation,\n        nameOk: false\n      });\n    }\n\n    if (auxIterator === 0) {\n      iName.textContent = \"\";\n      name.style.border = \"\";\n      setValidation({ ...validation,\n        nameOk: true\n      });\n    } else {\n      name.style.borderBottom = \"2px solid red\";\n      name.style.borderRadius = \"5px\";\n    }\n  };\n\n  const startDateValidation = () => {\n    const iYear = document.getElementById(\"iStartDate\");\n    const year = document.getElementById(\"startDate\");\n    const born = new Date(year.value);\n    const actualDate = new Date();\n\n    if (actualDate.getFullYear() !== born.getFullYear()) {\n      iYear.textContent = \"*El año lectivo debe comenzar en el año actual\";\n      setValidation({ ...validation,\n        startDateOk: false\n      });\n      year.style.borderTop = \"2px solid red\";\n      year.style.borderBottom = \"2px solid red\";\n      year.style.borderRight = \"2px solid red\";\n      year.style.borderLeft = \"2px solid red\";\n      year.style.borderRadius = \"5px\";\n    } else {\n      iYear.textContent = \"\";\n      year.style.border = \"\";\n      setValidation({ ...validation,\n        startDateOk: true\n      });\n    }\n  };\n\n  const endDateValidation = () => {\n    const iYear = document.getElementById(\"iEndDate\");\n    const year = document.getElementById(\"endDate\");\n    const start = document.getElementById(\"startDate\");\n    const born = new Date(year.value);\n    const actualDate = new Date(start.value);\n\n    if (born.getFullYear() < actualDate.getFullYear() || born.getFullYear() > actualDate.getFullYear() + 1) {\n      iYear.textContent = \"*El año de finalizalión sobrepasa el límite.\";\n      setValidation({ ...validation,\n        endDateOk: false\n      });\n      year.style.borderTop = \"2px solid red\";\n      year.style.borderBottom = \"2px solid red\";\n      year.style.borderRight = \"2px solid red\";\n      year.style.borderLeft = \"2px solid red\";\n      year.style.borderRadius = \"5px\";\n    } else {\n      iYear.textContent = \"\";\n      year.style.border = \"\";\n      setValidation({ ...validation,\n        endDateOk: true\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      component: \"div\",\n      sx: {\n        textAlign: \"center\"\n      },\n      children: \"Registrar A\\xF1o Lectivo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container row row-cols-3 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            value: period.name,\n            onChange: event => setPeriod({ ...period,\n              name: event.target.value\n            }),\n            id: \"name\",\n            label: \"Nombre\",\n            style: {\n              width: \"100%\"\n            },\n            onBlur: nameValidation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            id: \"iName\",\n            class: \"msgError\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"startDate\",\n            label: \"Fecha de comienzo\",\n            type: \"date\",\n            defaultValue: \"2023-05-24\",\n            value: period.startDate,\n            onChange: event => setPeriod({ ...period,\n              startDate: event.target.value\n            }),\n            style: {\n              width: \"100%\"\n            },\n            InputLabelProps: {\n              shrink: true\n            },\n            onBlur: startDateValidation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            id: \"iStartDate\",\n            class: \"msgError\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"endDate\",\n            label: \"Fecha de cierre\",\n            type: \"date\",\n            value: period.endDate,\n            onChange: event => setPeriod({ ...period,\n              endDate: event.target.value\n            }),\n            style: {\n              width: \"100%\"\n            },\n            InputLabelProps: {\n              shrink: true\n            },\n            onBlur: endDateValidation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            id: \"iEndDate\",\n            class: \"msgError\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          size: \"large\",\n          type: \"submit\",\n          sx: {\n            boxShadow: \"1px 1px 5px #333\",\n            background: \"linear-gradient(to right, #0069c0, #0069c0)\"\n          },\n          onClick: handleSubmitInternal,\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Message, {\n          type: messageBox.type,\n          message: messageBox.message,\n          isHidden: messageBox.isHidden\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(RegisterPeriodForm, \"7RMnj10pk8NAjz1UI+m/VCj08ck=\");\n\n_c = RegisterPeriodForm;\nexport default RegisterPeriodForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPeriodForm\");","map":{"version":3,"sources":["C:/Users/elkin/OneDrive/Escritorio/2. Código/Codigo_v1.2/frontend/src/components/RegisterPeriodForm.js"],"names":["React","useState","useEffect","Box","TextField","Button","Typography","Message","RegisterPeriodForm","props","handleSubmit","messageBox","setMessage","type","message","isHidden","period","setPeriod","name","startDate","Date","endDate","actual","todayDate","month","getMonth","day","getDate","year","getFullYear","validation","setValidation","nameOk","startDateOk","endDateOk","handleSubmitInternal","e","preventDefault","nameValidation","periodName","iName","document","getElementById","auxIterator","textContent","length","style","border","borderBottom","borderRadius","startDateValidation","iYear","born","value","actualDate","borderTop","borderRight","borderLeft","endDateValidation","start","textAlign","width","event","target","shrink","boxShadow","background"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Message from \"./MessageAlert\";\r\nimport \"../index.css\";\r\n\r\nconst RegisterPeriodForm = (props) => {\r\n  const { handleSubmit } = props;\r\n  const [messageBox, setMessage] = useState({\r\n    type: \"\",\r\n    message: \"\",\r\n    isHidden: true,\r\n  });\r\n  const [period, setPeriod] = useState({\r\n    name: \"\",\r\n    startDate: new Date(),\r\n    endDate: new Date(),\r\n    actual: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    var todayDate = new Date();\r\n    var month = todayDate.getMonth() + 1;\r\n    var day = todayDate.getDate();\r\n    var year = todayDate.getFullYear();\r\n    if (day < 10) day = \"0\" + day;\r\n    if (month < 10) month = \"0\" + month;\r\n    setPeriod({\r\n      ...period,\r\n      startDate: year + \"-\" + month + \"-\" + day,\r\n      endDate: year + \"-\" + month + \"-\" + day,\r\n    });\r\n  }, []);\r\n\r\n  const [validation, setValidation] = useState({\r\n    nameOk: false,\r\n    startDateOk: false,\r\n    endDateOk: true,\r\n  });\r\n\r\n  const handleSubmitInternal = (e) => {\r\n    e.preventDefault();\r\n    if (validation.nameOk && validation.startDateOk && validation.endDateOk) {\r\n      handleSubmit(period, setPeriod, messageBox, setMessage);\r\n    } else {\r\n      setMessage({\r\n        type: \"error\",\r\n        message: \"Ingresa correctamente los campos\",\r\n        isHidden: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const nameValidation = () => {\r\n    const periodName = period.name;\r\n    const iName = document.getElementById(\"iName\");\r\n    const name = document.getElementById(\"name\");\r\n    var auxIterator = 0;\r\n\r\n    if (periodName === \"\") {\r\n      iName.textContent = \"Ingrese el nombre del año lectivo.\";\r\n      auxIterator++;\r\n      setValidation({ ...validation, nameOk: false });\r\n    }\r\n\r\n    if (auxIterator !== 1 && periodName.length < 4) {\r\n      iName.textContent =\r\n        \"*El nombre del año lectivo debe tener al menos 5 digitos\";\r\n      auxIterator++;\r\n      setValidation({ ...validation, nameOk: false });\r\n    }\r\n\r\n    if (auxIterator === 0) {\r\n      iName.textContent = \"\";\r\n      name.style.border = \"\";\r\n      setValidation({ ...validation, nameOk: true });\r\n    } else {\r\n      name.style.borderBottom = \"2px solid red\";\r\n      name.style.borderRadius = \"5px\";\r\n    }\r\n  };\r\n\r\n  const startDateValidation = () => {\r\n    const iYear = document.getElementById(\"iStartDate\");\r\n    const year = document.getElementById(\"startDate\");\r\n    const born = new Date(year.value);\r\n    const actualDate = new Date();\r\n\r\n    if (actualDate.getFullYear() !== born.getFullYear()) {\r\n      iYear.textContent = \"*El año lectivo debe comenzar en el año actual\";\r\n      setValidation({ ...validation, startDateOk: false });\r\n      year.style.borderTop = \"2px solid red\";\r\n      year.style.borderBottom = \"2px solid red\";\r\n      year.style.borderRight = \"2px solid red\";\r\n      year.style.borderLeft = \"2px solid red\";\r\n      year.style.borderRadius = \"5px\";\r\n    } else {\r\n      iYear.textContent = \"\";\r\n      year.style.border = \"\";\r\n      setValidation({ ...validation, startDateOk: true });\r\n    }\r\n  };\r\n\r\n  const endDateValidation = () => {\r\n    const iYear = document.getElementById(\"iEndDate\");\r\n    const year = document.getElementById(\"endDate\");\r\n    const start = document.getElementById(\"startDate\");\r\n    const born = new Date(year.value);\r\n    const actualDate = new Date(start.value);\r\n\r\n    if (\r\n      born.getFullYear() < actualDate.getFullYear() ||\r\n      born.getFullYear() > actualDate.getFullYear() + 1\r\n    ) {\r\n      iYear.textContent = \"*El año de finalizalión sobrepasa el límite.\";\r\n      setValidation({ ...validation, endDateOk: false });\r\n      year.style.borderTop = \"2px solid red\";\r\n      year.style.borderBottom = \"2px solid red\";\r\n      year.style.borderRight = \"2px solid red\";\r\n      year.style.borderLeft = \"2px solid red\";\r\n      year.style.borderRadius = \"5px\";\r\n    } else {\r\n      iYear.textContent = \"\";\r\n      year.style.border = \"\";\r\n      setValidation({ ...validation, endDateOk: true });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <br />\r\n      <Typography\r\n        variant=\"h4\"\r\n        gutterBottom\r\n        component=\"div\"\r\n        sx={{ textAlign: \"center\" }}\r\n      >\r\n        Registrar Año Lectivo\r\n      </Typography>\r\n      <Box style={{ width: \"100%\" }}>\r\n        <div className=\"container row row-cols-3 mt-4\">\r\n          <div className=\"col\">\r\n            <TextField\r\n              value={period.name}\r\n              onChange={(event) =>\r\n                setPeriod({ ...period, name: event.target.value })\r\n              }\r\n              id=\"name\"\r\n              label=\"Nombre\"\r\n              style={{ width: \"100%\" }}\r\n              onBlur={nameValidation}\r\n            />\r\n            <br />\r\n            <i id=\"iName\" class=\"msgError\"></i>\r\n            <br />\r\n          </div>\r\n          <div className=\"col\">\r\n            <TextField\r\n              id=\"startDate\"\r\n              label=\"Fecha de comienzo\"\r\n              type=\"date\"\r\n              defaultValue=\"2023-05-24\"\r\n              value={period.startDate}\r\n              onChange={(event) =>\r\n                setPeriod({ ...period, startDate: event.target.value })\r\n              }\r\n              style={{ width: \"100%\" }}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onBlur={startDateValidation}\r\n            />\r\n            <br />\r\n            <br />\r\n            <i id=\"iStartDate\" class=\"msgError\"></i>\r\n          </div>\r\n          <div className=\"col\">\r\n            <TextField\r\n              id=\"endDate\"\r\n              label=\"Fecha de cierre\"\r\n              type=\"date\"\r\n              value={period.endDate}\r\n              onChange={(event) =>\r\n                setPeriod({ ...period, endDate: event.target.value })\r\n              }\r\n              style={{ width: \"100%\" }}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onBlur={endDateValidation}\r\n            />\r\n            <br />\r\n            <br />\r\n            <i id=\"iEndDate\" class=\"msgError\"></i>\r\n          </div>\r\n        </div>\r\n\r\n        <Box>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            type=\"submit\"\r\n            sx={{\r\n              boxShadow: \"1px 1px 5px #333\",\r\n              background: \"linear-gradient(to right, #0069c0, #0069c0)\",\r\n            }}\r\n            onClick={handleSubmitInternal}\r\n          >\r\n            Registrar\r\n          </Button>\r\n          <Message\r\n            type={messageBox.type}\r\n            message={messageBox.message}\r\n            isHidden={messageBox.isHidden}\r\n          />\r\n          <br />\r\n          <br />\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPeriodForm;\r\n"]},"metadata":{},"sourceType":"module"}