{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'universal-cookie/es6';\nconst cookies = new Cookies();\nconst baseUrl = \"https://backend-notas-seven.vercel.app\";\nexport function checkLogin(loginValues, setLoginValues) {\n  const response = axios.get(`${baseUrl}/users`).then(response => {\n    const data = response.data;\n    var dataLogin = null;\n\n    for (var i = 0; i < data.length; i++) {\n      if (data[i].user === loginValues.user && data[i].password === loginValues.password) {\n        dataLogin = data[i];\n        break;\n      }\n    }\n\n    if (dataLogin !== null) {\n      cookies.set('id', dataLogin._id, {\n        path: \"/\"\n      });\n      cookies.set('email', dataLogin.email, {\n        path: \"/\"\n      });\n      cookies.set('user', dataLogin.user, {\n        path: \"/\"\n      });\n      cookies.set('password', dataLogin.password, {\n        path: \"/\"\n      });\n      cookies.set('type', dataLogin.type, {\n        path: \"/\"\n      });\n      window.alert('Bienvenido');\n\n      switch (dataLogin.type) {\n        case 0:\n          window.location.href = \"./homeScreenAdmin\";\n          break;\n\n        case 2:\n          window.location.href = \"./homeScreenProfessor\";\n          break;\n\n        case 3:\n          window.location.href = \"./homeScreenStudent\";\n          break;\n      }\n    } else {\n      setLoginValues({\n        user: '',\n        password: ''\n      });\n      window.alert('Usuario o contraseña incorrectos');\n    }\n  }).catch(error => {\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["C:/Users/elkin/OneDrive/Escritorio/2. Código/Codigo_v1.2/frontend/src/services/login.js"],"names":["axios","Cookies","cookies","baseUrl","checkLogin","loginValues","setLoginValues","response","get","then","data","dataLogin","i","length","user","password","set","_id","path","email","type","window","alert","location","href","catch","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,MAAMC,OAAO,GAAG,IAAID,OAAJ,EAAhB;AACA,MAAME,OAAO,GAAG,wCAAhB;AAEA,OAAO,SAASC,UAAT,CAAoBC,WAApB,EAAiCC,cAAjC,EAAiD;AAEpD,QAAMC,QAAQ,GAAIP,KAAK,CAACQ,GAAN,CAAW,GAAEL,OAAQ,QAArB,EACjBM,IADiB,CACZF,QAAQ,IAAI;AACd,UAAMG,IAAI,GAAGH,QAAQ,CAACG,IAAtB;AACA,QAAIC,SAAS,GAAG,IAAhB;;AAEA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACF,IAAI,CAACG,MAArB,EAA6BD,CAAC,EAA9B,EAAkC;AAC9B,UAAIF,IAAI,CAACE,CAAD,CAAJ,CAAQE,IAAR,KAAiBT,WAAW,CAACS,IAA7B,IAAqCJ,IAAI,CAACE,CAAD,CAAJ,CAAQG,QAAR,KAAqBV,WAAW,CAACU,QAA1E,EAAoF;AAChFJ,QAAAA,SAAS,GAAGD,IAAI,CAACE,CAAD,CAAhB;AACA;AACH;AACJ;;AAED,QAAID,SAAS,KAAK,IAAlB,EAAwB;AACpBT,MAAAA,OAAO,CAACc,GAAR,CAAY,IAAZ,EAAkBL,SAAS,CAACM,GAA5B,EAAiC;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAjC;AACAhB,MAAAA,OAAO,CAACc,GAAR,CAAY,OAAZ,EAAqBL,SAAS,CAACQ,KAA/B,EAAsC;AAACD,QAAAA,IAAI,EAAE;AAAP,OAAtC;AACAhB,MAAAA,OAAO,CAACc,GAAR,CAAY,MAAZ,EAAoBL,SAAS,CAACG,IAA9B,EAAoC;AAACI,QAAAA,IAAI,EAAE;AAAP,OAApC;AACAhB,MAAAA,OAAO,CAACc,GAAR,CAAY,UAAZ,EAAwBL,SAAS,CAACI,QAAlC,EAA4C;AAACG,QAAAA,IAAI,EAAE;AAAP,OAA5C;AACAhB,MAAAA,OAAO,CAACc,GAAR,CAAY,MAAZ,EAAoBL,SAAS,CAACS,IAA9B,EAAoC;AAACF,QAAAA,IAAI,EAAE;AAAP,OAApC;AACAG,MAAAA,MAAM,CAACC,KAAP,CAAa,YAAb;;AAEA,cAAQX,SAAS,CAACS,IAAlB;AACI,aAAK,CAAL;AACIC,UAAAA,MAAM,CAACE,QAAP,CAAgBC,IAAhB,GAAuB,mBAAvB;AACA;;AAEJ,aAAK,CAAL;AACIH,UAAAA,MAAM,CAACE,QAAP,CAAgBC,IAAhB,GAAuB,uBAAvB;AACA;;AAEJ,aAAK,CAAL;AACIH,UAAAA,MAAM,CAACE,QAAP,CAAgBC,IAAhB,GAAuB,qBAAvB;AACA;AAXR;AAaH,KArBD,MAqBM;AACFlB,MAAAA,cAAc,CAAC;AACXQ,QAAAA,IAAI,EAAE,EADK;AAEXC,QAAAA,QAAQ,EAAE;AAFC,OAAD,CAAd;AAIAM,MAAAA,MAAM,CAACC,KAAP,CAAa,kCAAb;AACH;AAEJ,GAzCiB,EAyCfG,KAzCe,CAyCTC,KAAK,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,GA3CiB,CAAlB;AA6CH","sourcesContent":["import axios from 'axios'\r\nimport Cookies from 'universal-cookie/es6'\r\n\r\nconst cookies = new Cookies()\r\nconst baseUrl = \"https://backend-notas-seven.vercel.app\";\r\n\r\nexport function checkLogin(loginValues, setLoginValues) {\r\n\r\n    const response =  axios.get(`${baseUrl}/users`)\r\n    .then(response => {\r\n        const data = response.data;\r\n        var dataLogin = null;\r\n        \r\n        for (var i=0; i<data.length; i++) {\r\n            if (data[i].user === loginValues.user && data[i].password === loginValues.password) {\r\n                dataLogin = data[i];\r\n                break;\r\n            }\r\n        }\r\n        \r\n        if (dataLogin !== null) {\r\n            cookies.set('id', dataLogin._id, {path: \"/\"});\r\n            cookies.set('email', dataLogin.email, {path: \"/\"});\r\n            cookies.set('user', dataLogin.user, {path: \"/\"});\r\n            cookies.set('password', dataLogin.password, {path: \"/\"});\r\n            cookies.set('type', dataLogin.type, {path: \"/\"});\r\n            window.alert('Bienvenido');\r\n\r\n            switch (dataLogin.type) {\r\n                case 0:\r\n                    window.location.href = \"./homeScreenAdmin\";\r\n                    break;\r\n\r\n                case 2:\r\n                    window.location.href = \"./homeScreenProfessor\";\r\n                    break;\r\n\r\n                case 3:\r\n                    window.location.href = \"./homeScreenStudent\";\r\n                    break;\r\n            }\r\n        }else {\r\n            setLoginValues({\r\n                user: '',\r\n                password: ''\r\n            });\r\n            window.alert('Usuario o contraseña incorrectos');\r\n        }\r\n\r\n    }).catch(error => {\r\n        console.log(error);\r\n    })\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}